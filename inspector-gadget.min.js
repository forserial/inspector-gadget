"use strict";angular.module("swd.inspector-gadget",[]),angular.module("swd.inspector-gadget").directive("inspectorGadget",function($compile){return{restrict:"E",transclude:!0,template:"<span ng-transclude></span>",link:function(scope,element,attrs){var title=element.find("inspector-title"),errStr="";if(1!==title.length)throw errStr="inspector-gadget: no inspector-title specified, or multiple titles specified",console.err(errStr),errStr;title=title[0],title.hidden=!0,title=title.innerHTML;var content=element.find("inspector-content");if(1!==content.length)throw errStr="inspector-gadget: no inspector-content specified, or multiple contents specified",console.err(errStr),errStr;content=content[0],content.hidden=!0,content=content.innerHTML;var bootstrArgs={};angular.forEach(attrs,function(attrValue,attrName){if(0===attrName.indexOf("data-")){var attr=attrName.slice(5);if("placement"!==attr&&"animation"!==attr&&"delay"!==attr&&"container"!==attr&&"viewport"!==attr){var errStr="Only a subset of bootstrap popover arguments allowed:  placement, animation, delay, container, viewport";throw console.error(errStr),errStr}bootstrArgs[attr]=attrValue}});var timeoutObj=null,popConfig=bootstrArgs;popConfig.html=!0,popConfig.title=function(){return console.log("get title"),title},popConfig.content=function(){return content},popConfig.trigger="manual",element.mouseenter(function(){element.popover("show");var popCont=$(".popover-content");console.log("compiling popover content: "+popCont.length+" timer:"+scope.timer),$compile(popCont.contents())(scope),scope.$apply()}),element.mouseleave(function(){var content=$(".popover-content");console.log("LEAVE LINK");var hoveringPopover=!1;content.mouseenter(function(){console.log("enter pop"),hoveringPopover=!0}),content.mouseleave(function(){console.log("leave pop"),hoveringPopover=!1});var hidePop=function(){hoveringPopover?timeoutObj=setTimeout(hidePop,300):element.popover("hide")};timeoutObj=setTimeout(hidePop,300)}),element.popover(popConfig),console.log("popover created: "+element.html())}}});
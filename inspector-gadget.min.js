"use strict";angular.module("swd.inspector-gadget",[]),angular.module("swd.inspector-gadget").service("intPopover",function(){this.bootstrap=function(a,b){return a.popover(b),{show:function(){a.popover("show")},hide:function(){a.popover("hide")}}}}),angular.module("swd.inspector-gadget").directive("inspectorGadget",["$compile","$document","intPopover","$timeout",function(a,b,c,d){var e=b[0],f=function(a){return angular.element(a.parentsUntil().slice(-1)[0])},g=function(a,b){if(b){var c=e.createElement("div");c.setAttribute("data-inspector-gadget-tag",b),c.setAttribute("style","display: none"),a.appendChild(c)}var d=a.innerHTML;return d},h=function(a){var b={};return angular.forEach(a,function(a,c){("placement"===c||"animation"===c||"delay"===c||"container"===c||"viewport"===c)&&(b[c]=a)}),b},i=function(a,b){var c=a.find('div[data-inspector-gadget-tag="'+b+'"]'),d=c.parent().parent();return d},j=1,k=function(b,e,g){var j=e.find(".anchored_div"),k=f(j),l=b._insp.popoverId,m=b._insp.titleHtml,n=b._insp.contentHtml,o=h(g),p=null,q=null;o.html=!0,o.title=function(){return m},o.content=function(){return n},o.trigger="manual",j.mouseenter(function(){p.show();var c=i(k,l);a(c.contents())(b),b.$apply()}),j.mouseleave(function(){var a=i(k,l),b=!1;a.mouseenter(function(){b=!0}),a.mouseleave(function(){b=!1});var c=function(){b?q=d(c,300):p.hide()};q=d(c,300)}),p=c.bootstrap(j,o)};return{restrict:"E",transclude:!0,compile:function(a,b,c){return function(d,e){var f=d.$new();c(f,function(a,b){b._insp={};var c=angular.element('<div class="anchored_div" style="display: inline-block"></div>');angular.forEach(a,function(a){if(1!==a.nodeType||"INSPECTOR-TITLE"!==a.tagName&&"INSPECTOR-CONTENT"!==a.tagName)c.append(a);else if(1===a.nodeType&&"INSPECTOR-CONTENT"===a.tagName)b._insp.contentHtml=a.innerHTML;else if(1===a.nodeType&&"INSPECTOR-TITLE"===a.tagName){var d=j++;b._insp.popoverId=d,b._insp.titleHtml=g(a,d)}}),e.append(c)}),k(f,a,b)}}}}]);